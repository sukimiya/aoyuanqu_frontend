<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta http-equiv="pragma" content="no-cache">
    <meta http-equiv="cache-control" content="no-cache">
    <meta http-equiv="expires" content="0">
    <title>面签预约</title>
    <link href="https://cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">
    <link href="https://cdn.bootcss.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" type="text/css">
    <link href="css/unlock.css" rel="stylesheet" type="text/css">
    <link href="css/my.css" rel="stylesheet" type="text/css">
    <style type="text/css">
        .my-form-h1 {}

        .my-form-label {
            font-size: 16px;
            font-weight: normal;
            color: #040404;
        }

        body .mainbody {
            background-color: floralwhite;
            height: 50%;
            overflow-y: scroll;
        }

    </style>
    <script type="text/javascript" src="https://cdn.bootcss.com/jquery/3.2.1/jquery.js"></script>
    <script type="text/javascript" src="https://cdn.bootcss.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <script src="js/unlock.js"></script>
    <script type="text/javascript" src="js/jweixin-1.2.0.js"></script>
    <script type="text/javascript" src="js/my.js"></script>

</head>


<body class="my-body">
    <form>
        <div class="form-group">
            <input class="form-control" label="total" id="total" type="number">
        </div>
        <div class="form-group">
            <input class="form-control" label="num1" id="num1" type="number">
        </div>
        <div class="form-group">
            <input class="form-control" label="num2" id="num2" type="number">
        </div>
        <button id="calculate" class="form-control btn btn-primary">计算</button>
    </form>
    <script type="text/javascript">
        $(document).ready(function() {
            $("#calculate").on("click",function(e){
                var sums = Math.floor((parseFloat($("#num1").val()) + parseFloat($("#num2").val()))*100000.0000)/100000.0000;
                var t = parseFloat($("#total").val());
                alert(t+":"+sums+":"+(t==sums));
            });
            createAppointmentAddress("#appointment_address","#addressInfo",distAddress.address3,distAddress.address4);
            //checkInputFileImg();
            $('#weituo_state').on('switchChange.bootstrapSwitch', function(e, data) {
                var $el = e,
                    value = data;
                if (value) {
                    console.log("weituo_state:" + $('#weituo_state').val());
                } else {
                    console.log("weituo_state:" + $('#weituo_state').val());
                }

                console.log(e, $el, value);
            });

        });
        $(".dragVerfy").slideToUnlock({
            text: '滑动发送验证码',
            succText: '发送成功'
        });
        /**
         * 图片压缩，默认同比例压缩
         * @param {Object} path 
         *   pc端传入的路径可以为相对路径，但是在移动端上必须传入的路径是照相图片储存的绝对路径
         * @param {Object} obj
         *   obj 对象 有 width， height， quality(0-1)
         * @param {Object} callback
         *   回调函数有一个参数，base64的字符串数据
         */
        function dealImage(path, obj, callback) {
            var img = new Image();
            img.src = path;
            img.onload = function() {
                var that = this;
                // 默认按比例压缩
                var w = that.width,
                    h = that.height,
                    scale = w / h;
                w = obj.width || w;
                h = obj.height || (w / scale);
                var quality = 0.7; // 默认图片质量为0.7
                //生成canvas
                var canvas = document.createElement('canvas');
                var ctx = canvas.getContext('2d');
                // 创建属性节点
                var anw = document.createAttribute("width");
                anw.nodeValue = w;
                var anh = document.createAttribute("height");
                anh.nodeValue = h;
                canvas.setAttributeNode(anw);
                canvas.setAttributeNode(anh);
                ctx.drawImage(that, 0, 0, w, h);
                // 图像质量
                if (obj.quality && obj.quality <= 1 && obj.quality > 0) {
                    quality = obj.quality;
                }
                // quality值越小，所绘制出的图像越模糊
                var base64 = canvas.toDataURL('image/jpeg', quality);
                // 回调函数返回base64的值
                callback(base64);
            }
        }

    </script>
</body>

</html>
