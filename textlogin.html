<html>

<head>
    <meta charset="utf-8">
    <meta http-equiv="pragma" content="no-cache">
    <meta http-equiv="cache-control" content="no-cache">
    <meta http-equiv="expires" content="0">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta http-equiv="pragma" content="no-cache">
    <meta http-equiv="cache-control" content="no-cache">
    <meta http-equiv="expires" content="0">
    <title>the ao tess</title>

    <script type="text/javascript" src="https://cdn.bootcss.com/jquery/3.2.1/jquery.js"></script>
    <script type="text/javascript">
        $(document).ready(function() {
            checkInputFileImg();
        });
        /**
         * 图片压缩，默认同比例压缩
         * @param {Object} path 
         *   pc端传入的路径可以为相对路径，但是在移动端上必须传入的路径是照相图片储存的绝对路径
         * @param {Object} obj
         *   obj 对象 有 width， height， quality(0-1)
         * @param {Object} callback
         *   回调函数有一个参数，base64的字符串数据
         */
        function dealImage(path, obj, callback) {
            var img = new Image();
            img.src = path;
            img.onload = function() {
                var that = this;
                // 默认按比例压缩
                var w = that.width,
                    h = that.height,
                    scale = w / h;
                w = obj.width || w;
                h = obj.height || (w / scale);
                var quality = 0.7; // 默认图片质量为0.7
                //生成canvas
                var canvas = document.createElement('canvas');
                var ctx = canvas.getContext('2d');
                // 创建属性节点
                var anw = document.createAttribute("width");
                anw.nodeValue = w;
                var anh = document.createAttribute("height");
                anh.nodeValue = h;
                canvas.setAttributeNode(anw);
                canvas.setAttributeNode(anh);
                ctx.drawImage(that, 0, 0, w, h);
                // 图像质量
                if (obj.quality && obj.quality <= 1 && obj.quality > 0) {
                    quality = obj.quality;
                }
                // quality值越小，所绘制出的图像越模糊
                var base64 = canvas.toDataURL('image/jpeg', quality);
                // 回调函数返回base64的值
                callback(base64);
            }
        }

    </script>
</head>


<body class="my-body">
    <div id="qytz_ids_group" class="container-fluid">
        <div class="container">
            <form class="my-form" role="form">
                <div class="form-group my-form-group">
                    <label for="qygd_name">名称或姓名</label>
                    <input type="text" name="qygd_name" class="form-control my-input" id="qygd_name">
                </div>
                <div class="form-group my-form-group my-gap-bottom" style="font-size:18px;">
                    <span>职务</span>
                    <select id="qygd_jobtitle" name="qygd_jobtitle" class="col-xs-12">
                                <option>法人</option>
                                <option>股东</option>
                            </select>
                </div>
                <div class="form-group my-form-group">
                    <label for="qygd_idnumber">证件号</label>
                    <input type="text" name="qygd_idnumber" class="form-control my-input" id="qygd_idnumber">
                </div>

                <div class="form-group my-form-group">
                    <label for="qygd_investment">投资金额</label>
                    <input id="qygd_investment" type="number" name="qygd_investment" class="form-control my-input">
                    <span>万元</span>
                </div>
                <label>投资人身份证</label>
                <div id="qytz_ids_group" class="container-fluid">
                    <div class="row">
                        <a href="javascript:;" class="a-upload my-icon-upload my-gap-left" style="float:left;">
                            <img id="qygd_pic1_img" class="img-responsive" src="images/picframe.svg">
                            <canvas></canvas>
                            <label style="font-size:14px;font-weight:normal">正面</label>
                            <input type="file" capture="camera" accept="image/*" title="" onchange="uploadSmallImage(this,'#qygd_pic1')">
                        </a>
                        <a href="javascript:;" class="a-upload my-icon-upload my-gap-left clearfix" style="float:left;">
                            <img id="qygd_pic2_img" class="img-responsive" src="images/picframe.svg">
                            <canvas></canvas>
                            <label style="font-size:14px;font-weight:normal">反面</label>
                            <input type="file" capture="camera" accept="image/*" title="" onchange="uploadSmallImage(this,'#qygd_pic2')">
                        </a>
                        <a href="javascript:;" class="a-upload my-icon-upload my-gap-left" style="float:left;">
                            <img id="qygd_pic3_img" class="img-responsive" src="images/picframe.svg">
                            <canvas></canvas>
                            <label style="font-size:14px;font-weight:normal">营业执照</label>
                            <input type="file" capture="camera" accept="image/*" title="" onchange="uploadLisence(this,'#qygd_pic3')">
                        </a>
                    </div>
                </div>
                <input type="hidden" id="qygd_pic1">
                <input type="hidden" id="qygd_pic2">
                <input type="hidden" id="qygd_pic3">
                <div id="qygd_pic3_con" class="text-center">
                    <span style="color:red;"><h3>重要提示</h3></span>
                    <div class="clearfix" style="text-align:left;font-size:14px;border-color: #5066b4;padding:15px;">
                        <p>投资人为自然人需提供身份证照片;投资人为企业法人需提供营业执照（副本加盖公章）照片
                        </p>

                    </div>

                </div>
                <div class="container">
                    <a id="investorDeleteBtn" href="javascript:delectAInvestor()" class="btn btn-warning col-xs-12 my-gap-top" style="font-size:22px;padding:5px;">删除</a>
                    <a href="javascript:onInvestorOKHandler()" class="btn btn-success col-xs-12 my-gap-top" style="font-size:22px;padding:5px;">确定</a>
                </div>
            </form>
        </div>
    </div>
</body>

</html>
