<html>

<head>
    <meta charset="utf-8">
    <meta http-equiv="pragma" content="no-cache">
    <meta http-equiv="cache-control" content="no-cache">
    <meta http-equiv="expires" content="0">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta http-equiv="pragma" content="no-cache">
    <meta http-equiv="cache-control" content="no-cache">
    <meta http-equiv="expires" content="0">
    <title>the ao tess</title>
    <link href="https://cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">
    <link href="https://cdn.bootcss.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" type="text/css">
    <link href="css/bootstrapSwitch.css" rel="stylesheet">
    <link rel="stylesheet" href="css/weui.min.css">
    <link rel="stylesheet" href="css/my-style.css">
    <link href="css/my.css" rel="stylesheet" type="text/css">

    <script type="text/javascript" src="https://cdn.bootcss.com/jquery/3.2.1/jquery.js"></script>
    <script type="text/javascript" src="https://cdn.bootcss.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <script src="https://cdn.bootcss.com/bootstrap-validator/0.5.3/js/bootstrapValidator.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.12.2/js/bootstrap-select.min.js"></script>
    <script src="js/bootstrapSwitch.js"></script>
    <script src="http://res.wx.qq.com/open/js/jweixin-1.2.0.js"></script>
    <script type="text/javascript" src="js/jquery.flexText.min.js"></script>
    <script src="https://cdn.bootcss.com/json2/20160511/json2.min.js"></script>
    <script src="js/zepto-1.1.6.js"></script>
    <script src="js/glb-swipe.js"></script>
    <script type="text/javascript" src="js/my.js"></script>
    <script type="text/javascript">
        $(document).ready(function() {
            checkInputFileImg();
        });
        /**
         * 图片压缩，默认同比例压缩
         * @param {Object} path 
         *   pc端传入的路径可以为相对路径，但是在移动端上必须传入的路径是照相图片储存的绝对路径
         * @param {Object} obj
         *   obj 对象 有 width， height， quality(0-1)
         * @param {Object} callback
         *   回调函数有一个参数，base64的字符串数据
         */
        function dealImage(path, obj, callback) {
            var img = new Image();
            img.src = path;
            img.onload = function() {
                var that = this;
                // 默认按比例压缩
                var w = that.width,
                    h = that.height,
                    scale = w / h;
                w = obj.width || w;
                h = obj.height || (w / scale);
                var quality = 0.7; // 默认图片质量为0.7
                //生成canvas
                var canvas = document.createElement('canvas');
                var ctx = canvas.getContext('2d');
                // 创建属性节点
                var anw = document.createAttribute("width");
                anw.nodeValue = w;
                var anh = document.createAttribute("height");
                anh.nodeValue = h;
                canvas.setAttributeNode(anw);
                canvas.setAttributeNode(anh);
                ctx.drawImage(that, 0, 0, w, h);
                // 图像质量
                if (obj.quality && obj.quality <= 1 && obj.quality > 0) {
                    quality = obj.quality;
                }
                // quality值越小，所绘制出的图像越模糊
                var base64 = canvas.toDataURL('image/jpeg', quality);
                // 回调函数返回base64的值
                callback(base64);
            }
        }

    </script>
</head>


<body>
    <label>投资人身份证</label>
    <div id="qytz_ids_group" class="container-fluid">
        <div class="row">
            <a href="javascript:;" class="a-upload my-icon-upload my-gap-left" style="float:left;">
                <img id="qygd_pic1_img" class="img-responsive" src="images/picframe.svg">
                <canvas></canvas>
                <label style="font-size:14px;font-weight:normal">正面</label>
                <input type="file" capture="camera" accept="image/*" title="" onchange="UploadCompressedImage(this,'#qygd_pic1')">
            </a>
            <a href="javascript:;" class="a-upload my-icon-upload my-gap-left clearfix" style="float:left;">
                <img id="qygd_pic2_img" class="img-responsive" src="images/picframe.svg">
                <canvas></canvas>
                <label style="font-size:14px;font-weight:normal">反面</label>
                <input type="file" capture="camera" accept="image/*" title="" onchange="UploadCompressedImage(this,'#qygd_pic2')">
            </a>
            <a href="javascript:;" class="a-upload my-icon-upload my-gap-left" style="float:left;">
                <img id="qygd_pic3_img" class="img-responsive" src="images/picframe.svg">
                <canvas></canvas>
                <label style="font-size:14px;font-weight:normal">营业执照</label>
                <input type="file" capture="camera" accept="image/*" title="" onchange="UploadCompressedImage(this,'#qygd_pic3')">
            </a>
        </div>
    </div>
</body>

</html>
